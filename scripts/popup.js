!function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){!function(n,o){"object"==typeof t&&t.exports&&"function"==typeof e?t.exports=o():"function"==typeof define&&"object"==typeof define.amd?define(o):n.log=o()}(this,function(){function e(e){return typeof console!==l&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t){return function(){typeof console!==l&&(o(t),s[e].apply(s,arguments))}}function o(e){for(var t=0;t<c.length;t++){var n=c[t];s[n]=t<e?a:s.methodFactory(n,e)}}function i(e){var t=(c[e]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=t)}catch(e){}try{window.document.cookie="loglevel="+t+";"}catch(e){}}function r(){var e;try{e=window.localStorage.loglevel}catch(e){}if(typeof e===l)try{e=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(e){}void 0===s.levels[e]&&(e="WARN"),s.setLevel(s.levels[e],!1)}var s={},a=function(){},l="undefined",c=["trace","debug","info","warn","error"];s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=function(t,o){return e(t)||n(t,o)},s.setLevel=function(e,t){if("string"==typeof e&&void 0!==s.levels[e.toUpperCase()]&&(e=s.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(t!==!1&&i(e),o(e),typeof console===l&&e<s.levels.SILENT)return"No console available for logging"},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var u=typeof window!==l?window.log:void 0;return s.noConflict=function(){return typeof window!==l&&window.log===s&&(window.log=u),s},r(),s})},{}],2:[function(e,t,n){(function(e){!function(o){function i(e){throw new RangeError(S[e])}function r(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function s(e,t){var n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(q,".");var i=e.split("."),s=r(i,t).join(".");return o+s}function a(e){for(var t,n,o=[],i=0,r=e.length;i<r;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r?(n=e.charCodeAt(i++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),i--)):o.push(t);return o}function l(e){return r(e,function(e){var t="";return e>65535&&(e-=65536,t+=z(e>>>10&1023|55296),e=56320|1023&e),t+=z(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:R}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var o=0;for(e=n?M(e/x):e>>1,e+=M(e/t);e>j*N>>1;o+=R)e=M(e/j);return M(o+(j+1)*e/(e+T))}function d(e){var t,n,o,r,s,a,u,d,m,f,h=[],g=e.length,y=0,w=k,v=L;for(n=e.lastIndexOf(P),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&i("not-basic"),h.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<g;){for(s=y,a=1,u=R;r>=g&&i("invalid-input"),d=c(e.charCodeAt(r++)),(d>=R||d>M((E-y)/a))&&i("overflow"),y+=d*a,m=u<=v?_:u>=v+N?N:u-v,!(d<m);u+=R)f=R-m,a>M(E/f)&&i("overflow"),a*=f;t=h.length+1,v=p(y-s,t,0==s),M(y/t)>E-w&&i("overflow"),w+=M(y/t),y%=t,h.splice(y++,0,w)}return l(h)}function m(e){var t,n,o,r,s,l,c,d,m,f,h,g,y,w,v,b=[];for(e=a(e),g=e.length,t=k,n=0,s=L,l=0;l<g;++l)h=e[l],h<128&&b.push(z(h));for(o=r=b.length,r&&b.push(P);o<g;){for(c=E,l=0;l<g;++l)h=e[l],h>=t&&h<c&&(c=h);for(y=o+1,c-t>M((E-n)/y)&&i("overflow"),n+=(c-t)*y,t=c,l=0;l<g;++l)if(h=e[l],h<t&&++n>E&&i("overflow"),h==t){for(d=n,m=R;f=m<=s?_:m>=s+N?N:m-s,!(d<f);m+=R)v=d-f,w=R-f,b.push(z(u(f+v%w,0))),d=M(v/w);b.push(z(u(d,0))),s=p(n,y,o==r),n=0,++o}++n,++t}return b.join("")}function f(e){return s(e,function(e){return I.test(e)?d(e.slice(4).toLowerCase()):e})}function h(e){return s(e,function(e){return C.test(e)?"xn--"+m(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof t&&t&&!t.nodeType&&t,w="object"==typeof e&&e;w.global!==w&&w.window!==w&&w.self!==w||(o=w);var v,b,E=2147483647,R=36,_=1,N=26,T=38,x=700,L=72,k=128,P="-",I=/^xn--/,C=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=R-_,M=Math.floor,z=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:a,encode:l},decode:d,encode:m,toASCII:h,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return v});else if(g&&y)if(t.exports==g)y.exports=v;else for(b in v)v.hasOwnProperty(b)&&(g[b]=v[b]);else o.punycode=v}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){var o,i;i=e("loglevel"),o={logLevel:"silent",apiURL:"https://api.zcdn.de",apiURLs:["https://api.zcdn.de","https://api.zenguard.biz"],apiFront:"d1mvkhn4psrs16.cloudfront.net",geoRedirector:"https://geo.zenmate.com",websiteFront:"d21e7xkr9vlo60.cloudfront.net",websiteAssets:"du3rt6yhb1dqh.cloudfront.net",criticalWebsiteDomains:["zenmate.com"],websiteDomains:["zenmate.com","zenmate.ae","zenmate.ma","zenmate.dk","zenmate.at","zenmate.ch","zenmate.de","zenmate.li","zenmate.ca","zenmate.co.uk","zenmate.ie","zenmate.co.nz","zenmate.com.ar","zenmate.cl","zenmate.co","zenmate.es","zenmate.mx","zenmate.com.pa","zenmate.com.pe","zenmate.com.ve","zenmate.fi","zenmate.fr","zenmate.co.il","zenmate.in","zenmate.hu","zenmate.co.id","zenmate.is","zenmate.it","zenmate.jp","zenmate.kr","zenmate.lu","zenmate.lt","zenmate.lv","zenmate.my","zenmate.be","zenmate.nl","zenmate.pl","zenmate.com.br","zenmate.pt","zenmate.ro","zenmate.com.ru","zenmate.se","zenmate.sg","zenmate.com.ph","zenmate.com.tr","zenmate.pk","zenmate.vn","zenmate.hk"],domainFronts:"WyIxMDEubGl2ZXJlLmNvLmtyIiwiYTAuYXdzc3RhdGljLmNvbSIsImFkY3QuY2EiLCJhaXJuZXd6ZWFsYW5kLmNvLm56IiwiYWlydmlzdGFyYS5jb20iLCJhbGRpLmRlIiwiYW1pcmVudHN0YWJpbGl6ZWQuY29tIiwiYW5zd2VyYmFja21hY2hpbmUub3JnIiwiYXBpLnZvZC5nbG9ib3NhdC50diIsImFzaWF3ZWJkaXJlY3QuY29tIiwiYXdzLWJsb2cuaW8iLCJiaXotam91cm5hbC5qcCIsImJvbWJvcmF0ZWNoLmNvbS5hdSIsImJyeWNlLmZpc2hlci1mbGVpZy5vcmciLCJjZG4taW1hZ2VzLm1haWxjaGltcC5jb20iLCJjZG4uZGV2LmFvcC5hY2VyLmNvbSIsImNkbi5lcmluY2FsbC5jb20iLCJjZG4uZ2xvYmFsaGVhbGluZ2NlbnRlci5jb20iLCJjZi5kcm9wYm94cGF5bWVudHMuY29tIiwiY2hyb25pY2xlLmNvbSIsImNsYXNob2ZjbGFucy5jb20iLCJjbGllbnR1cGRhdGVzLmRyb3Bib3hzdGF0aWMuY29tIiwiY2xpbWF0ZS5jb20iLCJjb25uZWN0aXZpdHkuYW1hem9ud29ya3NwYWNlcy5jb20iLCJjcm9zc2V0Lm9ud2FyZC5jby5qcCIsImQwLmF3c3N0YXRpYy5jb20iLCJkZXJhdXRvcGlsb3QuY29tIiwiZGV2YnVpbGRzLnViZXIuY29tIiwiZGV2ZWxvcGVyLnNvbnkuY29tIiwiZGV2aWFudGFydC5jb20iLCJkZXZyZWwuanAiLCJkb2NzLmNsdXN0ZXJocS5jb20iLCJkb3dubG9hZC5lcGljZ2FtZXMuY29tIiwiZXBzb24uY29tIiwiZmlmYWNvbm5lY3Qub3JnIiwiZml0Yml0LmNvbSIsImhici5vcmciLCJoYnNwLmhhcnZhcmQuZWR1IiwiaHNjdS5uZXQiLCJodWItb2xvZ3kub3JnIiwiaWZsaXguY29tIiwiaW1hZ2VzLW5hLnNzbC1pbWFnZXMtYW1hem9uLmNvbSIsImluZm9qb2JzLm5ldCIsImp0Y2xhcmsuY2EiLCJraWNrc3RhcnRlci5jb20iLCJsaXRlLXJhLmNvbSIsImx1Yy5pZCIsIm1lcmNhcmkuY29tIiwibWluZWNyYWZ0Lm5ldCIsIm1pdG1wcm94eS5vcmciLCJteHRvb2xib3guY29tIiwibnViYW5rLmNvbS5iciIsIm9sYWNhYnMuY29tIiwib3BlbnJlcHV0YXRpb24ubmV0IiwicXVpenVwLmNvbSIsInJhem9yc3FsLmNvbSIsInJvdmVyLmNvbSIsInNoYXJlLm9yaWdpbi45Y2RuLm5ldCIsInNpZ25hbC5pcyIsInNtYWxscGRmLmNvbSIsInNwb3J6YS5iZSIsInN0YXRpYy51bmUuZWR1LmF1Iiwic3lzYWRtaW5jYXN0cy5jb20iLCJ0aGFpc21pbGVhaXIuY29tIiwidW5mb2xkaW5nd29yZC5vcmciLCJ2ZXJzYW5kLXN0YXR1cy5kZSIsIndkYy5jb20iLCJ3aW1kdS5jb20udHIiLCJ3aW1kdS5kZSIsIndvd2Fpci5pcyIsInd3dy5hcHRseS5pbmZvIiwid3d3LmJlYmVzdG9yZS5jb20uYnIiLCJ3d3cuY21jbS5jb20iLCJ3d3cuaG90c3BvdHNoaWVsZC5jb20iLCJ3d3cuaWt1c2FsaWMuY29tIiwid3d3LmxwZ2Eub3IuanAiLCJ3d3cucGF5cGFsLWR5bmFtaWMuY29tIiwid3d3LnRpcmVkcGl4ZWwuY29tIiwid3d3LnVucm9sbC5tZSIsInd3dy53ZWJjaGF0LnNoZWxsLmNvbS5jbiIsInljb21iaW5hdG9yLmNvbSJd",authApiDomain:"auth.zenmate.com",authApiDomains:["auth.zenmate.com"],newsServiceUrl:"https://crm.zenguard.biz",newsServiceUrls:["https://crm.zenguard.biz"],newsServiceFront:"d3h6bpau3gi7cm.cloudfront.net",connectionCheckDomains:[{url:"http://www.google.com.sg/gen_204",code:204},{url:"http://g.cn/generate_204",code:204},{url:"http://www.thinkdifferent.us",code:200},{url:"http://www.example.org",code:200},{url:"http://detectportal.firefox.com/success.txt",code:200},{url:"http://captive.apple.com/",code:200}],localDomains:["zenguard.biz","zcdn.de","zeus.pm","local","ip","fritz.box","kabel.box","invalid","intra","intranet","test","example","localhost","onion","i2p","lvh.me","vcap.me","127.0.0.1.xip.io","localtest.me","about:addons","about:newtab","about:preferences","about:config"],blackList:{"jid1-4P0kohSJxU1qGg@jetpack":"hola"},alternativeNodes:[],nodeOverrides:[],ruleOverrides:[{domains:["facebook.com"],hosts:["facebook.net","fbcdn.com","fbcdn.net","fbstatic-a.akamaihd.net","fbcdn-dragon-a.akamaihd.net"]}],blockedSites:["appnord.xyz"],ciuvoSettings:{base_url:"https://api.ciuvo.com/api/",tag:"z3Nnno43",campaign:"chrome"}},o.setLogLevel=function(e){if(null!=e)return o.logLevel=e,i.setLevel(o.logLevel),console.info("logLevel:",o.logLevel)},o.setApiURL=function(e){if(null!=e)return o.apiURL=e,console.info("api:",o.apiURL)},o.setNewsServiceUrl=function(e){if(null!=e)return o.newsServiceUrl=e,console.info("newsServiceUrl:",o.newsServiceUrl)},o.setAuthApiDomain=function(e){if(null!=e)return o.authApiDomain=e,console.info("authApiDomain:",o.authApiDomain)},o.setLogLevel("silent"),"undefined"!=typeof window&&null!==window&&(window.config=o),t.exports=o},{loglevel:1}],4:[function(e,t,n){var o;o=function(){function e(){this.listeners={}}return e.prototype.off=function(e,t){var n;return this.listeners[e]=null!=(n=this.listeners[e])?n.filter(function(e){return e!==t}):void 0},e.prototype.on=function(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.trigger=function(e,t){var n,o,i,r,s;if(this.listeners[e]){for(r=this.listeners[e],s=[],n=0,o=r.length;n<o;n++)i=r[n],s.push(i(t));return s}},e}(),t.exports=o},{}],5:[function(e,t,n){var o,i,r,s,a,l,c,u,p={}.hasOwnProperty;o=e("./config"),u=e("./util"),s=e("loglevel"),i={localDomains:o.localDomains,nodeOverrides:o.nodeOverrides,IPv4NotationRE:/^\d+\.\d+\.\d+\.\d+$/g,localIPsRE:/(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)/},r={data:i,nodeLookup:function(e,t){return e[t]||!1},compareHosts:function(e,t){var n,o,i;for(o=0,i=e.length;o<i;o++)if(n=e[o],this.matchWildcardDomain(t,n))return n},compareURLs:function(e,t){var n,o,i;for(n=0,o=e.length;n<o;n++)if(i=e[n],i.test(t))return i},dnsDomainIs:function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},matchWildcardDomain:function(e,t){var n,o,i;return n=e===t,i=e.slice(-t.length)===t,o="."===e[e.lastIndexOf(t)-1],n||i&&o},matchNodeOverride:function(e,t){var n,o,i;return i=function(){var o,i,r,s;for(r=this.data.nodeOverrides,s=[],o=0,i=r.length;o<i;o++)n=r[o],n.target_cc===t&&this.compareHosts(n.hosts,e)&&s.push(n);return s}.call(this),(null!=i&&null!=(o=i[0])?o.nodes:void 0)||!1},matchRules:function(e,t,n){var i,r,s,l;if((null!=e?e.length:void 0)>0)for(null==this.data.rulesWithOverrides&&(e=a(e,o.ruleOverrides)),i=r=0,s=e.length;r<s;i=++r)if(l=e[i],this.matchWildcardDomain(t,l.domain)||null!=l.hosts&&this.compareHosts(l.hosts,t))return i},_getProxyState:function(e,t,n){var o,i,r,s,a;if(e=e.toLowerCase(),this.data.IPv4NotationRE.lastIndex=0,this.data.localIPsRE.lastIndex=0,!~t.indexOf(".")&&!~t.indexOf(":"))return"LOCAL";if(this.data.IPv4NotationRE.test(t)&&this.data.localIPsRE.test(t))return"LOCAL";for(a=this.data.localDomains,o=0,i=a.length;o<i;o++)if(r=a[o],this.matchWildcardDomain(t,r))return"LOCAL";return s=this.matchRules(n,t,e),null!=s?n[s].cc:"DEFAULT"}},c=function(e){var t,n,o;null==e&&(e=r),n=[];for(t in e)if(p.call(e,t))switch(o=e[t],typeof e[t]){case"function":n.push(t+": "+o.toString());break;case"object":n.push(t+": "+JSON.stringify(e[t]))}return"{ "+n.join(",")+" }"},a=function(e,t){var n,o,i,r,s,a;if(!((null!=e?e.length:void 0)>0))return[];if(!((null!=t?t.length:void 0)>0))return e;for(n=0,i=e.length;n<i;n++)for(a=e[n],o=0,r=t.length;o<r;o++)s=t[o],s.domains.indexOf(a.domain)>-1&&(a.hosts=u.concatUnique(a.hosts||[],s.hosts||[]));return e},l="e.data.IPv4NotationRE = "+i.IPv4NotationRE.toString()+";\ne.data.localIPsRE = "+i.localIPsRE.toString()+";",n.exportPAC=function(e,t,n,i){var r;return null==n&&(n=[]),null==i&&(i=[]),r="/*ZenMate*/\nfunction FindProxyForURL(url, host) {\n\n  var e = "+c()+";\n  e.data.localDomains = e.data.localDomains.concat("+JSON.stringify(i)+");\n  "+l+"\n\n  e.data.defaultLocation = '"+e+"';\n  e.data.nodeDict = "+JSON.stringify(t)+";\n  e.data.rulesWithOverrides = "+JSON.stringify(a(n,o.ruleOverrides))+";\n\n  var res = e._getProxyState(url, host, e.data.rulesWithOverrides);\n\n  if (res === 'LOCAL' || res === 'DIRECT' || res === 'OFF') {return 'DIRECT'};\n  if (res === 'DEFAULT') {cc = e.data.defaultLocation} else {cc = res};\n\n  var override = e.matchNodeOverride(host, cc);\n  if (override) {cc = override};\n\n  return e.nodeLookup(e.data.nodeDict, cc) || 'DIRECT';\n}"},n.getProxyStateByURL=function(e,t,n){return null==n&&(n=[]),t=t||u.parseURL(e).host||e,r._getProxyState(e,t,n)},n.getNodeDictFromLocations=function(e,t,n){var i,r,s,a,l;for(e=e.concat(o.alternativeNodes),a={},i=0,r=e.length;i<r;i++)s=e[i],l=s.nodes.slice(0,15).map(function(e){var t;return t=e.replace("node.zenmate.io","zenguard.org").replace("node.zenguard.co","zenguard.co"),n?t:"HTTPS "+t+":443"}),a[s.country_code]=l.join(";");return a},n.matchRules=function(e,t,n){return r.matchRules(e,t,n)}},{"./config":3,"./util":6,loglevel:1}],6:[function(e,t,n){n.generateInstallId=function(){var e;return e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.parseURL=function(e){var t,n,o;return o=/^([^:]+):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i,t=e.match(o),t?{scheme:t[1].toLowerCase(),host:t[2].toLowerCase(),port:t[3],path:t[4]||"/",fragment:t[5],local:"http"!==(n=t[1].toLowerCase())&&"https"!==n}:{}},n.getUTMSourcesFromURL=function(e){var t,o,i,r;for(o=n.parseURL(e).path,i=/[?&]([^=#]+)=([^&#]*)/g,r=[];t=i.exec(o);)0===t[1].indexOf("utm_")&&r.push(t[1]+"="+t[2]);return r.join(";")},n.concatUnique=function(e,t){return e.concat(t).filter(function(e,t,n){return n.indexOf(e)===t})},n.parseDate=function(e){var t,n,o,i,r,s;return t=new Date(e),isNaN(t.getTime())?(i=e.split(" "),o=i[0],s=i[1],n=o.split("-"),r=s.split(":"),new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2])):t},n.shuffle=function(e){var t,n,o;for(t=e.length,o=null,n=null;0!==t;)n=Math.floor(Math.random()*t),t--,o=e[t],e[t]=e[n],e[n]=o;return e},n.chunk=function(e,t){var n,o,i;for(t=t<=0?1:t,n=[],o=0,i=e.length;o<i;)n.push(e.slice(o,o+=t));return n}},{}],7:[function(e,t,n){(function(e){var n;n=("undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null).PropTypes,t.exports={crmPopUp:n.shape({id:n.string.isRequired,headline:n.string.isRequired,description:n.string.isRequired,imageURL:n.string.isRequired,action:n.shape({url:n.string.isRequired,label:n.string.isRequired}).isRequired})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){var o;o=e("../../background/emitter"),t.exports=new o},{"../../background/emitter":4}],9:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i=e("./events"),r=o.createClass({displayName:"Link",render:function(){var e=this.props,t=e.url,n=e.children,i=e.className;return o.createElement("a",{href:t,onClick:this.openLink,className:i},n)},openLink:function(e){e.preventDefault();var t=this.props,n=t.url,o=t.params,r=t.clickAction;r&&r(),i.trigger("openPage",{url:n,params:o})}});t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./events":8}],10:[function(e,t,n){var o,i,r,s=function(e,t){function n(){this.constructor=e}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("../../background/emitter"),r=e("loglevel"),i=function(e){function t(e){var n,o;this.name=e,t.__super__.constructor.call(this),this.port=null!=("undefined"!=typeof chrome&&null!==chrome&&null!=(n=chrome.runtime)?n.connect:void 0)?chrome.runtime.connect({name:this.name}):("undefined"!=typeof addon&&null!==addon?addon.port:void 0)?addon.port:null!=("undefined"!=typeof self&&null!==self?self.port:void 0)?self.port:void 0,null!=(null!=(o=this.port.onMessage)?o.addListener:void 0)?this.port.onMessage.addListener(this.handleMessage.bind(this)):null!=this.port.on&&this.port.on(this.name,this.handleMessage.bind(this))}return s(t,e),t.prototype.handleMessage=function(e){var t;return null!=(t=this.listeners[e.subject])?t.forEach(function(t){return t(e.payload)}):void 0},t.prototype.send=function(e,t){var n;return null==t&&(t=null),n={subject:e,payload:t,timestamp:(new Date).valueOf()},null!=this.port.postMessage?this.port.postMessage(n):null!=this.port.emit?this.port.emit(this.name,n):void 0},t}(o),t.exports=i},{"../../background/emitter":4,loglevel:1}],11:[function(e,t,n){(function(t){var n,o,i,r,s,a,l,c,u,p,d,m,f,h,g,y,w,v,b,E,R,_,N,T,x,L,k;n="undefined"!=typeof window?window.Bacon:"undefined"!=typeof t?t.Bacon:null,s="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,a="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof t?t.ReactDOM:null,N="undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof t?t.ReactIntl:null,l=N.addLocaleData,o=N.IntlProvider,T="undefined"!=typeof window?window.locales:"undefined"!=typeof t?t.locales:null,h=T.getLocalization,f=T.flattenMessages,b=e("loglevel"),x=e("../url-resolver"),k=x.setLocale,g=x.getUrl,m=e("../events"),r=e("./views/index"),i=e("../message_handler"),R=e("../../../background/util").parseDate,L=e("../router").router(),c=new i("popup"),w=new n.Bus,p=w.merge(n.fromEvent(c,"response:data")),y=n.fromEvent(m,"header").merge(p.map(function(e){var t;return t=e.promo}).filter(function(e){return e}).map(function(e){return{open:!0,view:e.view}})).toProperty({open:!1}),v=p.map(function(e){var t;return t=e.language,h(t)}).doAction(function(e){return l(e.locale_data)}).doAction(function(e){var t;return t=e.country_code,k(t)}).toProperty(),E=v.changes().map(function(e){return f(e.messages)}).toProperty(),u=p.combine(v,function(e,t){var n,o,i,r,s,a;for(r={},s=e.locations,n=0,o=s.length;n<o;n++)i=s[n],r[i.country_code]=t.messages.locations[null!=(a=i.country_code)?a.toLowerCase():void 0]||i.location;return r}),_=L.changes().filter(function(e){var t;return t=e.current,"home"===t}).map(function(){return Math.random()}).toProperty(Math.random()).combine(p,function(e,t){var n,o;return E=[],t.user?(t.user.is_premium?(n=R(t.user.premium_expires_at)-R(t.user.server_time),n=Math.ceil(n/1e3/60/60/24),n<8&&!t.user.has_recurring_subscription?E.push("renew_subscription"):E.push("premium_desktop_clients")):t.user.is_premium||(E=E.concat(["free_get_premium","free_faster_speed","free_desktop_clients","free_smart_locations","free_more_locations","free_malware_blocking","free_tracking_protection"])),o=Math.floor(e*E.length),E[o]):E}),d=null,n.combineAsArray(p,L,y,d,v,E,u,_).onValues(function(e,t,n,i,l,c,u,p){return a.render(s.createElement(o,{locale:l.country_code,messages:c},s.createElement(r,Object.assign({debug:i,header:n,routes:t,countryNames:u,randomNews:p},l,e))),document.getElementById("app-container"))}),n.fromEventTarget(m,"toggleProxy").onValue(c,"send","request:toggleProxy"),n.fromEventTarget(m,"openPage").onValue(c,"send","request:openPage"),n.fromEventTarget(m,"signOut").onValue(function(){return window.close(),c.send("request:signOut")}),n.fromEventTarget(m,"hideHeader").onValue(function(e){return c.send("request:hide-"+e)}),n.fromEventTarget(m,"unblockProxySettings").onValue(function(){return c.send("request:unblockProxySettings")}),n.fromEventTarget(m,"confirmAccount").onValue(function(){return c.send("request:openPage",{url:g("account/signup?overlay=true")})}),n.fromEventTarget(m,"changeLanguage").onValue(function(e){return c.send("request:changeLanguage",e),location.hash="home"}),n.fromEventTarget(m,"dismissCRMPopUp").onValue(function(e){return c.send("request:dismissCRMPopUp",e)}),n.fromEventTarget(m,"locations:change").onValue(function(e){return location.hash="home",c.send("request:changeLocation",e)}),n.fromEventTarget(m,"toggleMalware").onValue(function(e){return c.send("request:toggleMalware",e)}),n.fromEventTarget(m,"toggleTracking").onValue(function(e){return c.send("request:toggleTracking",e)}),n.fromEventTarget(m,"updateRules").onValue(function(e){return c.send("request:updateRules",e)}),n.fromEventTarget(m,"toggleRules").onValue(function(e){return c.send("request:toggleRules",e)}),n.fromEventTarget(m,"favoriteLocations:add").onValue(function(e){return c.send("request:addFavoriteLocation",e)}),n.fromEventTarget(m,"favoriteLocations:remove").onValue(function(e){return c.send("request:removeFavoriteLocation",e)}),c.send("request:popupOpen"),w.push(chrome.extension.getBackgroundPage().window.popupData),document.body.addEventListener("contextmenu",function(e){return e.preventDefault()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../background/util":6,"../events":8,"../message_handler":10,"../router":51,"../url-resolver":52,"./views/index":33,loglevel:1}],12:[function(e,t,n){(function(n){var o,i,r,s;o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i="undefined"!=typeof window?window.React.addons.CSSTransitionGroup:"undefined"!=typeof n?n.React.addons.CSSTransitionGroup:null,s=e("../../../../../propTypes"),r=e("../../../events"),t.exports=o.createClass({displayName:"CRMPopUp",propTypes:{popUp:s.crmPopUp},render:function(){return o.createElement("div",{className:"crm-popup"},o.createElement("button",{className:"close-button",onClick:this.handleCloseButtonClick}),o.createElement("div",{className:"image"},o.createElement("img",{src:this.props.popUp.imageURL})),o.createElement("h1",{className:"headline"},this.props.popUp.headline),o.createElement("div",{className:"description"},this.props.popUp.description),o.createElement("div",{className:"action-button-wrapper"},o.createElement("button",{className:"action-button",onClick:this.handleActionButtonClick},this.props.popUp.action.label)))},handleCloseButtonClick:function(){return r.trigger("dismissCRMPopUp",this.props.popUp.id)},handleActionButtonClick:function(){return r.trigger("openPage",{url:this.props.popUp.action.url}),r.trigger("dismissCRMPopUp",this.props.popUp.id)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../propTypes":7,"../../../events":8}],13:[function(e,t,n){(function(n){var o,i;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=e("./header"),t.exports=i.createClass({displayName:"DebugPage",propTypes:{header:i.PropTypes.object.isRequired,device:i.PropTypes.object.isRequired,routes:i.PropTypes.object.isRequired,defaultLocation:i.PropTypes.object.isRequired,debug:i.PropTypes.object.isRequired,is_premium:i.PropTypes.bool.isRequired},render:function(){var e,t,n;return i.createElement("div",null,i.createElement(o,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.is_premium}),i.createElement("div",{className:"debug-container"},null!=this.props.defaultLocation?i.createElement("section",null,i.createElement("h3",null,"Connection"),i.createElement("p",null,"Currently connected to ",this.props.defaultLocation.country_name),i.createElement("p",null,"Nodes in order of likeliness to be active:"),i.createElement("ol",null,function(){var e,n,o,r;for(o=this.props.defaultLocation.nodes,r=[],e=0,n=o.length;e<n;e++)t=o[e],r.push(i.createElement("li",{key:t},t));return r}.call(this))):void 0,i.createElement("section",null,i.createElement("h3",null,"Debug Overrides"),i.createElement("ul",null,function(){var t,o;t=this.props.debug,o=[];for(e in t)n=t[e],o.push(i.createElement("li",{key:e},i.createElement("strong",null,e),":",i.createElement("span",null,n)));return o}.call(this)))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./header":16}],14:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof e?e.React.addons.PureRenderMixin:null,t.exports=o.createClass({displayName:"FeatureItem",mixins:[n],propTypes:{onClick:o.PropTypes.func,onChange:o.PropTypes.func,icon:o.PropTypes.string.isRequired,iconRetina:o.PropTypes.string.isRequired,label:o.PropTypes.string.isRequired,description:o.PropTypes.string.isRequired,enabled:o.PropTypes.bool,arrow:o.PropTypes.bool},render:function(){return o.createElement("li",{onClick:this.props.onClick,className:"feature-item"},o.createElement("img",{className:"icon "+(this.props.enabled===!1?"disabled":""),src:this.props.icon,srcSet:this.props.iconRetina+" 2x"}),o.createElement("span",{className:"name"},this.props.label),this.props.onChange?o.createElement("label",{className:"flat-switch"},o.createElement("input",{onChange:this.props.onChange,checked:this.props.enabled,type:"checkbox",className:"flat-switch-checkbox"}),o.createElement("div",{className:"flat-toggle"})):void 0,this.props.arrow?o.createElement("span",{className:"arrow"}):void 0,o.createElement("span",{className:"description"},this.props.description))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){(function(n){var o,i,r,s,a;s="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,r=e("../header"),a=e("../../../events"),o=e("./feature_item"),t.exports=s.createClass({displayName:"Features",propTypes:{routes:s.PropTypes.object.isRequired,header:s.PropTypes.object.isRequired,user:s.PropTypes.object.isRequired,device:s.PropTypes.object.isRequired,features:s.PropTypes.object.isRequired,messages:s.PropTypes.object.isRequired},contextTypes:{intl:s.PropTypes.object.isRequired},toggleMalware:function(e){return a.trigger("toggleMalware",e.target.checked)},toggleTracking:function(e){return a.trigger("toggleTracking",e.target.checked)},teaser:function(e){return e.preventDefault(),a.trigger("header",{open:!0})},render:function(){return this.props.user?s.createElement("div",{id:"features"},s.createElement(r,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium}),s.createElement("section",{className:"feature-head "+(this.props.header.open?"fade":"")+" "+(this.props.user.is_premium?"":"teaser")},s.createElement("div",{className:"premium-title"},s.createElement("hr",null),s.createElement("span",null,s.createElement(i,{id:"popup.features.premium_title"})),s.createElement("hr",null)),s.createElement("ul",null,s.createElement("a",{href:"#rules"},s.createElement(o,{icon:"images/smartLocationsIcon.png",iconRetina:"images/smartLocationsIcon@2x.png",label:this.context.intl.formatMessage({id:"popup.features.on_demand"}),description:this.context.intl.formatMessage({id:"popup.features.on_demand_description"}),arrow:!0})),s.createElement(o,{onClick:this.props.user.is_premium?null:this.teaser,onChange:this.toggleMalware,icon:"images/antiMalwareIcon.png",iconRetina:"images/antiMalwareIcon@2x.png",label:this.context.intl.formatMessage({id:"popup.features.malware_blocking"}),description:this.context.intl.formatMessage({id:"popup.features.malware_blocking_description"}),enabled:this.props.features.malwareBlocking}),s.createElement(o,{onClick:this.props.user.is_premium?null:this.teaser,onChange:this.toggleTracking,icon:"images/trackingProtectionIcon.png",iconRetina:"images/trackingProtectionIcon@2x.png",label:this.context.intl.formatMessage({id:"popup.features.tracking_protection"}),description:this.context.intl.formatMessage({id:"popup.features.tracking_protection_description"}),enabled:this.props.features.trackingProtection}))),s.createElement("section",{className:"features-section"},s.createElement("div",{className:"builtin-title"},s.createElement("span",null,s.createElement(i,{id:"popup.features.builtin_title"})),s.createElement("hr",null)),s.createElement("div",{className:"builtin-container"},s.createElement("span",{className:"builtin-feature always-on"},s.createElement("strong",null,s.createElement(i,{id:"popup.features.always_on.first"})),s.createElement(i,{id:"popup.features.always_on.second"})),s.createElement("div",{className:"info-bubble left"},s.createElement(i,{id:"popup.features.always_on.description"})),s.createElement("span",{className:"builtin-feature nat"},s.createElement("strong",null,s.createElement(i,{id:"popup.features.nat_firewall.first"})),s.createElement(i,{id:"popup.features.nat_firewall.second"})),s.createElement("div",{className:"info-bubble center"},s.createElement(i,{id:"popup.features.nat_firewall.description"})),s.createElement("span",{className:"builtin-feature encryption"},s.createElement(i,{id:"popup.features.encrypted.first"})),s.createElement("div",{className:"info-bubble right"},s.createElement(i,{id:"popup.features.encrypted.description"}))))):s.createElement("div",null)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8,"../header":16,"./feature_item":14}],16:[function(e,t,n){(function(n){var o,i,r,s,a;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=e("../../../events"),s=e("./trial"),o=e("./premium"),r="undefined"!=typeof window?window.React.addons.CSSTransitionGroup:"undefined"!=typeof n?n.React.addons.CSSTransitionGroup:null,t.exports=i.createClass({displayName:"Header",propTypes:{routes:i.PropTypes.object.isRequired,header:i.PropTypes.object.isRequired,device:i.PropTypes.object.isRequired,is_premium:i.PropTypes.bool.isRequired,showBack:i.PropTypes.bool},_close:function(){return a.trigger("hideHeader",this.props.header.view),a.trigger("header",{open:!1})},render:function(){var e,t;return e=this.props.routes.previous?this.props.routes.previous+"-":"",t=""+e+this.props.routes.current,i.createElement("header",{className:this.props.header.open?"open":""},this.props.showBack&&!this.props.header.open?i.createElement("a",{className:"back left",href:"#"+this.props.routes.previous}):this.props.header.open?i.createElement("button",{className:"close",onClick:this._close}):void 0,this.props.is_premium||this.props.header.open?i.createElement("img",{className:"logo",src:"images/zenmate-premium.png",srcSet:"images/zenmate-premium@2x.png 2x"}):i.createElement("img",{className:"logo",src:"images/zenmateLogo.png",srcSet:"images/zenmateLogo@2x.png 2x"}),i.createElement(r,{component:"div",transitionName:"header-body",transitionEnterTimeout:800,transitionLeaveTimeout:800},function(){if(this.props.header.open)switch(this.props.header.view){case"trialExpired":return i.createElement(s,{close:this._close});default:return i.createElement(o,{route:t})}}.call(this)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8,
"./premium":17,"./trial":18}],17:[function(e,t,n){(function(n){var o,i,r;r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,i=e("../../../link"),t.exports=r.createClass({displayName:"PremiumHeader",render:function(){return r.createElement("div",{className:"header-body"},r.createElement("div",{className:"features-container"},r.createElement("div",{className:"premium-features speed"},r.createElement("h3",null,r.createElement(o,{id:"popup.premium.speed.heading"})),r.createElement("span",null,r.createElement(o,{id:"popup.premium.speed.copy"}))),r.createElement("div",{className:"premium-features locations"},r.createElement("h3",null,r.createElement(o,{id:"popup.premium.locations.heading"})),r.createElement("span",null,r.createElement(o,{id:"popup.premium.locations.copy"}))),r.createElement("div",{className:"premium-features clients"},r.createElement("h3",null,r.createElement(o,{id:"popup.premium.clients.heading"})),r.createElement("span",null,r.createElement(o,{id:"popup.premium.clients.copy"})))),r.createElement(i,{url:"account/premium",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"premium_page_"+this.props.route+"_{countryCode}",utm_content:"menu"},className:"cta-button"},r.createElement(o,{id:"popup.premium.cta"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../link":9}],18:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=i.PropTypes,s="undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null,a=s.FormattedMessage,l=e("../../../link"),c=function(e){var t=e.close;return o.createElement("div",{className:"header-body"},o.createElement("div",{className:"features-container expired"},o.createElement("h3",{className:"earlybird-header"},o.createElement(a,{id:"popup.header.trial.trial_ended"})),o.createElement("div",{className:"expired-copy"},o.createElement(a,{id:"popup.header.trial.copy"}))),o.createElement("div",{className:"plan-select active"},o.createElement("img",{className:"plan-icon",src:"images/premium-shield-yearly.png",srcSet:"images/premium-shield-yearly@2x.png 2x"}),o.createElement("div",{className:"plan-price"},o.createElement("h4",null,o.createElement(a,{id:"popup.header.trial.monthly.name"})),o.createElement("span",null,o.createElement(a,{id:"popup.header.trial.monthly.price"}))),o.createElement("div",{className:"cta-save"},o.createElement(l,{clickAction:t,url:"premium/only-for-me/offer",params:{utm_medium:"in_product",utm_source:"extension",utm_campaign:"monthly_premium_expire_{countryCode}",utm_content:"menu"},className:"cta-button plan"},o.createElement(a,{id:"popup.header.trial.monthly.cta"})),o.createElement("span",null,o.createElement(a,{id:"popup.header.trial.monthly.save"})))),o.createElement("div",{className:"plan-select"},o.createElement("img",{className:"plan-icon",src:"images/premium-shield-6-months.png",srcSet:"images/premium-shield-6-months@2x.png 2x"}),o.createElement("div",{className:"plan-price"},o.createElement("h4",null,o.createElement(a,{id:"popup.header.trial.six_monthly.name"})),o.createElement("span",null,o.createElement(a,{id:"popup.header.trial.six_monthly.price"}))),o.createElement(l,{clickAction:t,url:"premium/only-for-me/offer",params:{utm_medium:"in_product",utm_source:"extension",utm_campaign:"6month_premium_expire_{countryCode}",utm_content:"menu"},className:"outline-button plan"},o.createElement(a,{id:"popup.header.trial.six_monthly.cta"}))))};c.propTypes={close:r.func.isRequired},t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../link":9}],19:[function(e,t,n){(function(n){var o,i,r,s,a,l;s="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,r=e("./news"),a=e("../../../events"),i=e("../../../link"),l=e("../../../../../background/util").parseDate,t.exports=s.createClass({displayName:"Bottom",propTypes:{randomNews:s.PropTypes.string.isRequired,user:s.PropTypes.object.isRequired,device:s.PropTypes.object.isRequired,rules:s.PropTypes.array.isRequired,news:s.PropTypes.any,language:s.PropTypes.string.isRequired},_onPremiumClick:function(e){return e.preventDefault(),a.trigger("header",{open:!0})},_getMessage:function(e){var t,n;switch(t={src:"{browser}"},e){case"premium_desktop_clients":return s.createElement(o,{id:"popup.home.news.premium.desktop_clients.copy",values:{desktop_clients:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_premium_desktop_clients_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"popup.home.news.premium.desktop_clients.desktop_clients"}))}});case"renew_subscription":return n=l(this.props.user.premium_expires_at)-l(this.props.user.server_time),n=Math.ceil(n/1e3/60/60/24),s.createElement(o,{id:"popup.home.news.premium.renew_subscription.copy",values:{num:n,renew_subscription:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_renew_subscription_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"popup.home.news.premium.renew_subscription.renew_subscription"}))}});case"free_get_premium":return s.createElement(o,{id:"popup.home.news.free.get_premium",values:{zenmate_premium:s.createElement("a",{href:"#",onClick:this._onPremiumClick},s.createElement(o,{id:"brand.zenmate_premium"}))}});case"free_faster_speed":return s.createElement(o,{id:"popup.home.news.free.faster_speed",values:{zenmate_premium:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_faster_speed_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"brand.zenmate_premium"}))}});case"free_smart_locations":return s.createElement(o,{id:"popup.home.news.free.smart_locations",values:{zenmate_premium:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_smart_locations_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"brand.zenmate_premium"}))}});case"free_more_locations":return s.createElement(o,{id:"popup.home.news.free.more_locations",values:{zenmate_premium:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_more_locations_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"brand.zenmate_premium"}))}});case"free_malware_blocking":return s.createElement(o,{id:"popup.home.news.free.malware_blocking.copy",values:{malware_blocking:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_malware_blocking_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"popup.home.news.free.malware_blocking.malware_blocking"}))}});case"free_desktop_clients":return s.createElement(o,{id:"popup.home.news.free.desktop_clients.copy",values:{desktop_clients:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_free_desktop_clients_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"popup.home.news.free.desktop_clients.desktop_clients"}))}});case"free_tracking_protection":return s.createElement(o,{id:"popup.home.news.free.tracking_protection",values:{zenmate_premium:s.createElement(i,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"home_tracking_protection_{countryCode}",utm_content:"banner"}},s.createElement(o,{id:"brand.zenmate_premium"}))}})}},render:function(){var e;return s.createElement("section",{className:"footer-news"},(null!=(e=this.props.news)?e.text:void 0)?s.createElement(r,{content:this.props.news.text}):s.createElement("div",{className:"news-content"},this._getMessage(this.props.randomNews)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../background/util":6,"../../../events":8,"../../../link":9,"./news":29}],20:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=o.PropTypes,r="undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof e?e.ReactIntl:null,s=r.FormattedMessage,a=n.createClass({displayName:"ConnectionDisplay",propTypes:{type:i.string.isRequired,user:i.object.isRequired,tabInfo:i.object.isRequired,countryNames:i.object.isRequired,currentLocation:i.object.isRequired},getInitialState:function(){return{faviconUrl:""}},componentDidMount:function(){this.updateFavicon(this.props.tabInfo.favIconUrl)},componentWillReceiveProps:function(e){e.tabInfo.favIconUrl!==this.props.tabInfo.favIconUrl&&this.updateFavicon(e.tabInfo.favIconUrl)},render:function(){var e=this.props,t=e.type,o=e.countryNames,i=e.currentLocation,r=e.user,a=e.tabInfo;return n.createElement("div",{className:"connection-details "+t},n.createElement("div",{className:"text text-1"}),n.createElement("div",{className:"text text-2"}),n.createElement("div",{className:"mask"}),n.createElement("div",{className:"flag flag-user",style:{backgroundImage:"url('images/flags/"+r.country_code+".png')"}}),n.createElement("div",{className:"flag flag-location",style:{backgroundImage:"url('images/flags/"+i.country_code+".png')"}}),n.createElement("div",{className:"host",style:{backgroundImage:"url('"+this.state.faviconUrl+"')"}}),n.createElement("div",{className:"overlay overlay-user tt tt-conn tt-left"},n.createElement("span",{className:"overlay-content"},n.createElement("div",null,n.createElement(s,{id:"popup.home.enabled.overlay.real_location"})),n.createElement("div",{className:"space dark"},o[r.country_code]||r.country_name),n.createElement("div",null,"IP: ",r.current_ip))),n.createElement("a",{href:"#locations",className:"overlay overlay-location tt tt-conn switchLocation"},n.createElement("span",{className:"overlay-content"},n.createElement("div",null,n.createElement(s,{id:"popup.home.enabled.overlay.public_location"})),n.createElement("div",{className:"space dark"},o[i.country_code]),n.createElement("div",null,"(",n.createElement(s,{id:"popup.home.enabled.overlay.click_to_change"}),")"))),n.createElement("a",{href:"#rules",className:"overlay overlay-rules tt tt-conn tt-right"},n.createElement("span",{className:"overlay-content"},n.createElement("div",null,n.createElement(s,{id:"popup.home.enabled.overlay.current_page"})),n.createElement("div",{className:"space dark hostDomain"},a.host),n.createElement("div",null,"(",n.createElement(s,{id:"popup.home.enabled.overlay.edit_ondemand"}),")"))))},updateFavicon:function(e){var t=this;setTimeout(function(){return t.setState({faviconUrl:e})},0)}});t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){(function(n){var o,i,r,s;r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,s=e("../../../../events"),i=e("../../../../link"),t.exports=r.createClass({displayName:"BlockedDescription",propTypes:{proxyBlocked:r.PropTypes.bool.isRequired,proxyBlockedBy:r.PropTypes.array},_unblock:function(){return s.trigger("unblockProxySettings")},render:function(){var e,t;return r.createElement("div",{className:"fresh-air"},(t=r.createElement(i,{url:"chrome://extensions"},r.createElement(o,{id:"popup.home.blocked.extension_settings"})),null!=this.props.proxyBlockedBy&&this.props.proxyBlockedBy.length?r.createElement(o,{id:"popup.home.blocked.extension",values:{extension_settings:t}}):r.createElement(o,{id:"popup.home.blocked.unknown",values:{extension_settings:t}})),function(){var t,n,s,a;if(null!=this.props.proxyBlockedBy&&this.props.proxyBlockedBy.length){for(s=this.props.proxyBlockedBy.slice(0,1),a=[],t=0,n=s.length;t<n;t++)e=s[t],a.push(r.createElement("div",{className:"blocked-container"},r.createElement("br",null),e.icon?r.createElement("img",{className:"blocked-icon",src:""+e.icon}):void 0,r.createElement(i,{url:"chrome://extensions/",params:{id:e.id}},e.name)));return a}return r.createElement("button",{onClick:this._unblock,className:"unblock-settings"},r.createElement(o,{id:"popup.home.blocked.unblock"}))}.call(this))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../events":8,"../../../../link":9}],22:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof e?e.ReactIntl:null).FormattedMessage,t.exports=o.createClass({displayName:"CustomDescription",propTypes:{rulesEnabled:o.PropTypes.bool.isRequired,tabState:o.PropTypes.object.isRequired,tabInfo:o.PropTypes.object.isRequired,countryNames:o.PropTypes.object.isRequired,currentLocation:o.PropTypes.object.isRequired},render:function(){return this.props.rulesEnabled&&this.props.tabState.isDirect?o.createElement("span",null,o.createElement(n,{id:"popup.home.custom.directinfo"})):o.createElement(n,{id:"popup.home.custom.connection",values:{domain:o.createElement("strong",{className:"hostDomain",title:""+this.props.tabInfo.host},this.props.tabInfo.host),location:o.createElement("strong",null,this.props.countryNames[this.props.currentLocation.country_code])}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof e?e.ReactIntl:null).FormattedMessage,t.exports=o.createClass({displayName:"CustomDisabledDescription",propTypes:{rulesEnabled:o.PropTypes.bool.isRequired,tabState:o.PropTypes.object.isRequired,tabInfo:o.PropTypes.object.isRequired,countryNames:o.PropTypes.object.isRequired,currentLocation:o.PropTypes.object.isRequired},render:function(){return this.props.rulesEnabled&&this.props.tabState.isDirect?o.createElement("span",null,o.createElement(n,{id:"popup.home.custom_disabled.directinfo"})):o.createElement(n,{id:"popup.home.custom_disabled.connection",values:{domain:o.createElement("strong",{className:"hostDomain",title:""+this.props.tabInfo.host},this.props.tabInfo.host),location:o.createElement("strong",null,this.props.countryNames[this.props.currentLocation.country_code])}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof e?e.ReactIntl:null).FormattedMessage,t.exports=o.createClass({displayName:"DisabledDescription",propTypes:{rulesEnabled:o.PropTypes.bool.isRequired,rules:o.PropTypes.array.isRequired},render:function(){return o.createElement("div",{className:"fresh-air"},o.createElement("div",null,o.createElement(n,{id:"popup.home.disabled.copy2"})),this.props.rulesEnabled&&this.props.rules.length>0?o.createElement("div",null,o.createElement(n,{id:"popup.home.disabled.smart_locations_enabled",values:{smart_locations:o.createElement("a",{href:"#rules"},o.createElement(n,{id:"popup.home.disabled.smart_locations"}))}})):o.createElement("div",null,o.createElement(n,{id:"popup.home.disabled.smart_locations_disabled",values:{smart_locations:o.createElement("a",{href:"#rules"},o.createElement(n,{id:"popup.home.disabled.smart_locations"}))}})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof e?e.ReactIntl:null).FormattedMessage,t.exports=o.createClass({displayName:"EnabledDescription",propTypes:{tabInfo:o.PropTypes.object.isRequired,countryNames:o.PropTypes.object.isRequired,currentLocation:o.PropTypes.object.isRequired},render:function(){return o.createElement(n,{id:"popup.home.enabled.connection",values:{domain:o.createElement("strong",{className:"hostDomain",title:""+this.props.tabInfo.host},this.props.tabInfo.host),location:o.createElement("strong",null,this.props.countryNames[this.props.currentLocation.country_code])}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(n){"use strict";function o(e){var t=e.type,n=e.proxyBlockedBy,o=e.rules,i=e.rulesEnabled,s=e.language,a=e.tabState,l=e.tabInfo,h=e.countryNames,g=e.currentLocation;switch(t){case"blocked":return r.createElement(u,{proxyBlockedBy:n});case"disabled":return r.createElement(p,{rules:o,rulesEnabled:i,language:s});case"local":return r.createElement(c,{id:"popup.home.local.connection"});case"custom_disabled":return r.createElement(f,{rulesEnabled:i,tabState:a,tabInfo:l,countryNames:h,currentLocation:g});case"custom":return r.createElement(m,{rulesEnabled:i,tabState:a,tabInfo:l,countryNames:h,currentLocation:g});default:return r.createElement(d,{tabInfo:l,countryNames:h,currentLocation:g})}}function i(e){var t=e.type,n=e.user,o=e.tabInfo,i=e.countryNames,s=e.currentLocation;return"disabled"!==t&&"blocked"!==t&&r.createElement(h,{user:n,type:t,tabInfo:o,countryNames:i,currentLocation:s})}var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,s="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=s.PropTypes,l="undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null,c=l.FormattedMessage,u=e("./blocked"),p=e("./disabled"),d=e("./enabled"),m=e("./custom"),f=e("./custom_disabled"),h=e("../connection-display"),g=function(e){return r.createElement("section",{className:"proxy-state "+e.type},r.createElement("div",{className:"connectedTo"},o(e)),i(e))};g.propTypes={tabState:a.object.isRequired,tabInfo:a.object.isRequired,currentLocation:a.object.isRequired,proxyBlockedBy:a.array,user:a.object.isRequired,rulesEnabled:a.bool.isRequired,rules:a.array.isRequired,countryNames:a.object.isRequired,type:a.string.isRequired,language:a.string.isRequired},t.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../connection-display":20,"./blocked":21,"./custom":22,"./custom_disabled":23,"./disabled":24,"./enabled":25}],27:[function(e,t,n){(function(n){var o,i,r,s,a,l;s="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,i=e("./news"),a=e("./toggle_button"),l=e("../../../events"),r="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=s.createClass({displayName:"Footer",mixins:[r],propTypes:{enabled:s.PropTypes.bool.isRequired,language:s.PropTypes.string.isRequired},render:function(){return s.createElement("footer",null,s.createElement("ul",{className:"nav"},s.createElement("li",null,s.createElement("a",{href:"#locations"},s.createElement("img",{className:"nav-icon",src:"images/changeLocationIcon.png",srcSet:"images/changeLocationIcon@2x.png 2x"}),s.createElement(o,{id:"popup.home.footer.change_location"}))),s.createElement("li",null,s.createElement("a",{href:"#features"},s.createElement("img",{className:"nav-icon",src:"images/featuresIcon.png",srcSet:"images/featuresIcon@2x.png 2x"}),s.createElement(o,{id:"popup.home.footer.features"}))),s.createElement("li",null,s.createElement("a",{href:"#settings",id:"settings-button"},s.createElement("img",{className:"nav-icon",src:"images/settingsIcon.png",srcSet:"images/settingsIcon@2x.png 2x"}),s.createElement(o,{id:"popup.home.footer.settings"}))),s.createElement(a,{enabled:this.props.enabled})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8,"./news":29,"./toggle_button":32}],28:[function(e,t,n){(function(n){"use strict";function o(e){var t=e.proxyBlocked,n=e.rulesEnabled,o=e.tabState,i=e.enabled;return t?"blocked":n&&o.isRuleActive?i?"custom":"custom_disabled":i?o.isLocal?"local":"enabled":"disabled"}var i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,s=r.PropTypes,a=e("../header"),l=e("./subhead"),c=e("./description"),u=e("./bottom"),p=e("./footer"),d=function(e){var t=o(e),n=e.header,r=e.device,s=e.routes,d=e.user,m=e.language,f=e.enabled,h=e.tabState,g=e.tabInfo,y=e.countryNames,w=e.currentLocation,v=e.rules,b=e.rulesEnabled,E=e.proxyBlockedBy,R=e.randomNews,_=e.features,N=e.news;return i.createElement("div",{id:"home"},i.createElement(a,{header:n,device:r,routes:s,is_premium:d.is_premium}),i.createElement(l,{type:t,language:m}),i.createElement(c,{type:t,user:d,tabState:h,tabInfo:g,countryNames:y,currentLocation:w,rules:v,rulesEnabled:b,proxyBlockedBy:E,language:m}),i.createElement(u,{randomNews:R,features:_,device:r,rules:v,news:N,user:d,language:m}),i.createElement(p,{enabled:f,language:m}))};d.propTypes={routes:s.object.isRequired,enabled:s.bool.isRequired,tabState:s.object.isRequired,tabInfo:s.object.isRequired,currentLocation:s.object.isRequired,proxyBlocked:s.bool.isRequired,proxyBlockedBy:s.array,user:s.object.isRequired,device:s.object.isRequired,news:s.object,rulesEnabled:s.bool.isRequired,rules:s.array.isRequired,features:s.object.isRequired,language:s.string.isRequired},t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../header":16,"./bottom":19,"./description":26,"./footer":27,"./subhead":31}],29:[function(e,t,n){(function(n){var o,i,r;r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=e("./markdown_converter"),i="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=r.createClass({displayName:"News",mixins:[i],propTypes:{content:r.PropTypes.string.isRequired},render:function(){return r.createElement("div",{className:"news-content"},r.createElement(o,{content:this.props.content}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./markdown_converter":30}],30:[function(e,t,n){(function(e){var n,o;n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,o={links:/\[(.*?)\]\((.*?)\)/,images:/!\[(.*?)\]\((.*?)\)/,bold:/\*\*(.*?)\*\*/,italic:/\*(.*?)\*/,all:/!?\[.*?\]\(.*?\)|\*\*.*?\*\*|\*.*?\*/g},t.exports=n.createClass({displayName:"MarkdownConverter",propTypes:{content:n.PropTypes.string.isRequired},_markDownToJSX:function(e){var t;return(t=e.match(o.images))?t[1].length?n.createElement("a",{className:"img-link",target:"_blank",href:t[1]},n.createElement("img",{src:t[2],alt:"promotion",style:{maxHeight:"90px"}})):n.createElement("img",{src:t[2],alt:"promotion",style:{maxHeight:"90px"}}):(t=e.match(o.links))?n.createElement("a",{target:"_blank",style:{color:"#008ace"},href:t[2]},t[1]):(t=e.match(o.bold))?n.createElement("b",null,t[1]):(t=e.match(o.italic))?n.createElement("em",null,t[1]):void 0},render:function(){var e,t;for(e=[];t=o.all.exec(this.props.content);)e.push(t[0]);return n.createElement("div",null,this.props.content.split(o.all).map(function(t){return function(o,i){var r,s;return r=e[i]?t._markDownToJSX(e[i]):void 0,s=o?n.createElement("span",null,o):void 0,[s,r]}}(this)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,t,n){(function(e){var n,o,i;i="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof e?e.ReactIntl:null).FormattedMessage,o="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof e?e.React.addons.PureRenderMixin:null,t.exports=i.createClass({displayName:"Subhead",mixins:[o],propTypes:{type:i.PropTypes.string.isRequired},render:function(){return i.createElement("section",{className:"subhead "+this.props.type},i.createElement("h1",{key:this.props.type,className:"protection-headline"},i.createElement(n,{id:"popup.home."+this.props.type+".heading"})),i.createElement("p",null,i.createElement(n,{id:"popup.home."+this.props.type+".copy"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,t,n){(function(n){var o,i,r;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=e("../../../events"),o="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=i.createClass({displayName:"ToggleButton",mixins:[o],propTypes:{enabled:i.PropTypes.bool.isRequired},componentDidMount:function(){return setTimeout(function(e){return function(){return e.refs.switch.classList.add("animating")}}(this),200)},_toggleProxy:function(e){return r.trigger("toggleProxy",e.target.checked)},render:function(){return i.createElement("li",{id:"proxy_toggle_button"},i.createElement("label",null,i.createElement("input",{ref:"switch",onChange:this._toggleProxy,checked:this.props.enabled,id:"toggle-button",type:"checkbox",className:"ios-switch stateToggle onoffswitch-checkbox"}),i.createElement("div",{className:"switch switch-enabled"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8}],33:[function(e,t,n){(function(n){var o,i,r,s,a,l,c,u,p,d,m;c="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,d=e("./settings/"),s=e("./home"),l=e("./locations/"),r=e("./features/"),a=e("./language"),i=e("./debug_page"),p=e("./rules/"),o=e("./crm/popup"),m=e("../../../../propTypes"),u="undefined"!=typeof window?window.React.addons.CSSTransitionGroup:"undefined"!=typeof n?n.React.addons.CSSTransitionGroup:null,t.exports=c.createClass({displayName:"Popup",propTypes:{routes:c.PropTypes.object.isRequired,header:c.PropTypes.object.isRequired,enabled:c.PropTypes.bool.isRequired,tabState:c.PropTypes.object.isRequired,tabInfo:c.PropTypes.object.isRequired,currentLocation:c.PropTypes.object.isRequired,proxyBlocked:c.PropTypes.bool.isRequired,proxyBlockedBy:c.PropTypes.array,user:c.PropTypes.object.isRequired,device:c.PropTypes.object.isRequired,rulesEnabled:c.PropTypes.bool.isRequired,rules:c.PropTypes.array.isRequired,features:c.PropTypes.object.isRequired,countryNames:c.PropTypes.object.isRequired,country_code:c.PropTypes.string.isRequired,debug:c.PropTypes.object.isRequired,defaultLocation:c.PropTypes.object.isRequired,favoriteLocations:c.PropTypes.array.isRequired,language:c.PropTypes.string.isRequired,locale_name:c.PropTypes.string.isRequired,locations:c.PropTypes.array.isRequired,messages:c.PropTypes.object.isRequired,news:c.PropTypes.any,crmPopUp:m.crmPopUp,randomNews:c.PropTypes.string,promo:c.PropTypes.any},render:function(){var e;return this.props.user?(e=function(){switch(this.props.routes.current){case"settings":return c.createElement(d,{header:this.props.header,device:this.props.device,routes:this.props.routes,user:this.props.user,language:this.props.language,debug:this.props.debug,messages:this.props.messages});case"locations":return c.createElement(l,{header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium,locations:this.props.locations,defaultLocation:this.props.defaultLocation,favoriteLocations:this.props.favoriteLocations,rulesEnabled:this.props.rulesEnabled,tabState:this.props.tabState,currentLocation:this.props.currentLocation,countryNames:this.props.countryNames,messages:this.props.messages});case"features":return c.createElement(r,{header:this.props.header,device:this.props.device,routes:this.props.routes,user:this.props.user,features:this.props.features,messages:this.props.messages});case"language":return c.createElement(a,{header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium,locale_name:this.props.locale_name,messages:this.props.messages});case"rules":return c.createElement(p,{header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium,locations:this.props.locations,defaultLocation:this.props.defaultLocation,rules:this.props.rules,rulesEnabled:this.props.rulesEnabled,tabState:this.props.tabState,tabInfo:this.props.tabInfo,currentLocation:this.props.currentLocation,countryNames:this.props.countryNames,messages:this.props.messages});case"debug":return c.createElement(i,{header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium,defaultLocation:this.props.defaultLocation,debug:this.props.debug});default:return c.createElement(s,Object.assign({},this.props))}}.call(this),this.props.crmPopUp?this.renderCRMPopUp():this.renderRoute(e)):null},renderCRMPopUp:function(){return c.createElement(o,{popUp:this.props.crmPopUp})},renderRoute:function(e){return c.createElement(u,{component:"div",transitionName:"popup-router",transitionEnterTimeout:400,transitionLeaveTimeout:400},c.createElement("div",{key:this.props.routes.current,className:"page "+(this.props.routes.direction||"right")},e))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../propTypes":7,"./crm/popup":12,"./debug_page":13,"./features/":15,"./home":28,"./language":34,"./locations/":35,"./rules/":38,"./settings/":45}],34:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=i.PropTypes,s="undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null,a=s.FormattedMessage,l="undefined"!=typeof window?window.locales:"undefined"!=typeof n?n.locales:null,c=l.locales,u=e("../../events"),p=e("./header"),d=function(e){var t=e.routes,n=e.device,i=e.header,r=e.locale_name,s=e.is_premium,l=Object.keys(c).map(function(e){var t=c[e];return o.createElement("li",{key:e,onClick:function(){return u.trigger("changeLanguage",e)}},t.locale_name,t.locale_name===r&&o.createElement("span",{className:"active-tick"},""))});return o.createElement("div",{id:"languages"},o.createElement(p,{routes:t,device:n,header:i,is_premium:s,showBack:!0}),o.createElement("section",{className:"subhead"},o.createElement("div",{className:"text-center"},o.createElement("h1",{className:"location-headline"},o.createElement(a,{id:"popup.languages.heading"})),o.createElement("p",{className:"location-copy"},o.createElement(a,{id:"popup.languages.copy"})))),o.createElement("section",{className:"locale-section scroll-section"},o.createElement("ul",null,l)))};d.propTypes={routes:r.object.isRequired,device:r.object.isRequired,header:r.object.isRequired,locale_name:r.string.isRequired,
is_premium:r.bool.isRequired},t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../events":8,"./header":16}],35:[function(e,t,n){(function(n){var o,i,r,s,a;s="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,i=e("../header"),r=e("./location_item"),a=e("../../../events"),t.exports=s.createClass({displayName:"Locations",propTypes:{routes:s.PropTypes.object.isRequired,header:s.PropTypes.object.isRequired,tabState:s.PropTypes.object.isRequired,currentLocation:s.PropTypes.object.isRequired,device:s.PropTypes.object.isRequired,rulesEnabled:s.PropTypes.bool.isRequired,countryNames:s.PropTypes.object.isRequired,defaultLocation:s.PropTypes.object.isRequired,favoriteLocations:s.PropTypes.array.isRequired,locations:s.PropTypes.array.isRequired,messages:s.PropTypes.object.isRequired,is_premium:s.PropTypes.bool.isRequired},getInitialState:function(){var e;return e=this._sortLocations(this.props.locations,this.props.favoriteLocations,this.props.is_premium,this.props.currentLocation),{custom_cc:"_unknown",transitionPending:!1,search:"",sortedLocations:e,filteredLocations:e}},componentWillReceiveProps:function(e){var t;return t=this._sortLocations(e.locations,e.favoriteLocations,e.is_premium,e.currentLocation),this.setState({sortedLocations:t,filteredLocations:this._filterLocations(t,e.countryNames,this.state.search)})},_sortLocations:function(e,t,n,o){var i,r,s;return r=[],i=[],s=e.filter(function(e){return e.country_code!==o.country_code&&(t.indexOf(e.country_code)!==-1?(e.isFavorite=!0,i.push(e),!1):!(e.premium_only&&!n)||(r.push(e),!1))}),[].concat(i,s,r)},_filterLocations:function(e,t,n){var o,i;return i=n.toLowerCase(),o=e.filter(function(e){var n,o;return n=e.country_code.toLowerCase(),o=t[e.country_code].toLocaleLowerCase(),i===n||o.includes(i)})},shouldComponentUpdate:function(e,t){return!(this.state.transitionPending||(null!=t?t.transitionPending:void 0))},handleChange:function(){return this.setState({custom_cc:this.refs.custom_cc.value||"_unknown"})},_setTransitionToPending:function(){return this.setState({transitionPending:!0})},addCustomLocation:function(){var e,t;if(e=this.refs.custom_cc,t=this.refs.custom_url,e.value&&t.value)return a.trigger("addCustomLocation",{cc:e.value,url:t.value}),t.value="",e.value="",this.setState({custom_cc:"_unknown"})},_handleSearch:function(e){return this.setState({search:e.target.value,filteredLocations:this._filterLocations(this.state.sortedLocations,this.props.countryNames,e.target.value)})},_resetSearch:function(){return this.setState({search:"",filteredLocations:this.state.sortedLocations})},render:function(){var e;return s.createElement("div",{id:"locations"},s.createElement(i,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.is_premium}),s.createElement("section",{className:"subhead location-subhead"},s.createElement("div",{className:"text-center"},s.createElement("h1",{className:"location-headline"},s.createElement(o,{id:"popup.locations.heading"})),s.createElement("p",{className:"location-copy"},s.createElement(o,{id:"popup.locations.copy"})),s.createElement("div",{className:"search-bar"},s.createElement("div",{className:"container"},s.createElement("img",{className:"icon",src:"images/search.svg",width:"16",height:"16",alt:"search-icon"}),s.createElement("input",{className:"search-field",type:"text",value:this.state.search,onChange:this._handleSearch,maxLength:"20"}),s.createElement("span",{className:"clear-button",onClick:this._resetSearch},""))))),s.createElement("section",{className:"scroll-section locations-section"},this.state.sortedLocations?void 0:s.createElement("p",{className:"noLocations"},s.createElement(o,{id:"popup.locations.no_locations"})),s.createElement("ul",{className:"locations"},this.props.rulesEnabled&&this.props.tabState.isRuleActive?s.createElement("div",{className:"activerule-hint"},s.createElement(o,{id:"popup.locations.smart_locations_enabled"})):void 0,this.props.rulesEnabled&&this.props.tabState.isRuleActive?s.createElement("li",{className:"activerule"},s.createElement("a",{href:"#rules",style:{backgroundImage:"url('images/flags/"+this.props.currentLocation.country_code+".png')"}},s.createElement("span",{className:"location"},this.props.countryNames[this.props.currentLocation.country_code]),s.createElement("span",{className:"btn btn-rule"},s.createElement(o,{id:"popup.locations.location_item.current"})))):s.createElement(r,{key:this.props.defaultLocation.country_code,_setTransitionToPending:this._setTransitionToPending,location:this.props.defaultLocation,is_premium:this.props.is_premium,countryNames:this.props.countryNames,defaultLocation:this.props.defaultLocation}),function(){var t,n,o,i;if(this.state.filteredLocations){for(o=this.state.filteredLocations,i=[],t=0,n=o.length;t<n;t++)e=o[t],i.push(s.createElement(r,{key:e.country_code,_setTransitionToPending:this._setTransitionToPending,location:e,is_premium:this.props.is_premium,countryNames:this.props.countryNames,defaultLocation:this.props.currentLocation}));return i}}.call(this),void 0)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8,"../header":16,"./location_item":36}],36:[function(e,t,n){(function(n){var o,i,r,s;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,r=e("../../../events"),s=e("loglevel"),t.exports=i.createClass({displayName:"LocationItem",propTypes:{countryNames:i.PropTypes.object.isRequired,location:i.PropTypes.object.isRequired,defaultLocation:i.PropTypes.object.isRequired,is_premium:i.PropTypes.bool.isRequired},getInitialState:function(){return{premium_disabled:this.props.location.premium_only&&!this.props.is_premium}},_toggleLocation:function(){return this.state.premium_disabled?r.trigger("header",{open:!0}):(this.props._setTransitionToPending(),r.trigger("locations:change",this.props.location.country_code),r.trigger("toggleProxy",!0))},_toggleFavorite:function(e){return e.stopPropagation(),this.props.location.isFavorite?r.trigger("favoriteLocations:remove",this.props.location.country_code):r.trigger("favoriteLocations:add",this.props.location.country_code)},render:function(){var e;return e=this.props.location,i.createElement("li",{className:this.state.premium_disabled?"premium":""},i.createElement("a",{onClick:this._toggleLocation,style:{backgroundImage:"url('images/flags/"+e.country_code+".png')"}},i.createElement("span",{className:"location"},this.props.countryNames[e.country_code]),i.createElement("span",{className:"favorite-location-toggle",onClick:this._toggleFavorite},e.isFavorite?i.createElement("span",{className:"favorite-location-star filled"}):i.createElement("span",{className:"favorite-location-star"})),this.props.defaultLocation.country_code===e.country_code?i.createElement("span",{className:"btn btn-primary"},i.createElement(o,{id:"popup.locations.location_item.current"})):this.state.premium_disabled?i.createElement("span",{className:"btn btn-premium"},i.createElement(o,{id:"popup.locations.location_item.premium"})):i.createElement("span",{className:"btn btn-success"},i.createElement(o,{id:"popup.locations.location_item.choose"}))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8,loglevel:1}],37:[function(e,t,n){(function(n){var o,i,r;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=e("loglevel"),o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,t.exports=i.createClass({displayName:"Hints",propTypes:{rulesEnabled:i.PropTypes.bool.isRequired,rules:i.PropTypes.array,active:i.PropTypes.number},render:function(){var e,t,n,r;return i.createElement("div",{className:"rule-hints-container"},0===(null!=(e=this.props.rules)?e.length:void 0)?i.createElement("div",{key:1},i.createElement("img",{className:"logo",src:"images/smartLocations-emptyState.png",srcSet:"images/smartLocations-emptyState@2x.png"}),i.createElement("h3",null,i.createElement(o,{id:"popup.rules.hints.empty.heading"}),i.createElement("strong",null," ",i.createElement(o,{id:"popup.rules.name"}))),i.createElement("ol",{className:"circle-list"},i.createElement("li",null,i.createElement("span",{className:"num"},"1"),i.createElement(o,{id:"popup.rules.hints.empty.list_1"})),i.createElement("li",null,i.createElement("span",{className:"num"},"2"),i.createElement(o,{id:"popup.rules.hints.empty.list_2"})),i.createElement("li",null,i.createElement("span",{className:"num"},"3"),i.createElement(o,{id:"popup.rules.hints.empty.list_3"})))):1===(null!=(t=this.props.rules)?t.length:void 0)&&null==this.props.active?i.createElement("div",{className:"bordered",key:2},i.createElement("h4",null,i.createElement(o,{id:"popup.rules.hints.first.heading"})),i.createElement("p",null,i.createElement(o,{id:"popup.rules.hints.first.copy"}))):1===(null!=(n=this.props.rules)?n.length:void 0)&&null!=this.props.active?i.createElement("div",{className:"bordered",key:3},i.createElement("h4",null,i.createElement(o,{id:"popup.rules.hints.selected.heading"})),i.createElement("p",null,i.createElement(o,{id:"popup.rules.hints.selected.copy",values:{current_domain:i.createElement("span",{className:"hostDomain"},this.props.rules[0].domain)}}))):2!==(null!=(r=this.props.rules)?r.length:void 0)||this.props.rulesEnabled?void 0:i.createElement("div",{className:"bordered",key:4},i.createElement("h4",null,i.createElement(o,{id:"popup.rules.hints.disabled.heading"})),i.createElement("p",null,i.createElement(o,{id:"popup.rules.hints.disabled.copy"}))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],38:[function(e,t,n){(function(n){var o,i,r,s,a,l,c,u,p,d,m;r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,i=e("../header"),s=e("./rule_box/"),l=e("./list"),a=e("./hints"),c=e("../../../events"),p=e("../../../../../background/pacengine.coffee"),d=e("punycode"),u=e("loglevel"),m="undefined"!=typeof window?window.React.addons.update:"undefined"!=typeof n?n.React.addons.update:null,t.exports=r.createClass({displayName:"Rules",propTypes:{routes:r.PropTypes.object.isRequired,header:r.PropTypes.object.isRequired,tabState:r.PropTypes.object.isRequired,tabInfo:r.PropTypes.object.isRequired,currentLocation:r.PropTypes.object.isRequired,device:r.PropTypes.object.isRequired,rulesEnabled:r.PropTypes.bool.isRequired,rules:r.PropTypes.array.isRequired,countryNames:r.PropTypes.object.isRequired,defaultLocation:r.PropTypes.object.isRequired,locations:r.PropTypes.array.isRequired,messages:r.PropTypes.object.isRequired,is_premium:r.PropTypes.bool.isRequired},getInitialState:function(){var e;return{host:this.props.tabState.isLocal?"":null!=(e=this.props.tabInfo.host)?e.replace(/^(www\.)/,""):void 0,selectedLocation:this.props.defaultLocation.country_code,activeRule:null}},getDefaultProps:function(){return{rules:[]}},componentDidMount:function(e,t){return this._findRuleByHost(this.state.host)},componentWillReceiveProps:function(e){var t;if(null!=this.state.activeRule&&e.rules.length>0&&(t=this.state.activeRule,t>e.rules.length-1&&(t=this.state.activeRule-1),this._setActiveRule(t)),0===e.rules.length||e.rules.length>this.props.rules.length)return this._resetActiveRule()},_handleHostChange:function(e){return this.setState({host:e}),this._findRuleByHost(e)},_handleLocationChange:function(e){var t;return null==this.state.activeRule?this.setState({selectedLocation:e}):(t=this.props.rules.slice(),t[this.state.activeRule].cc=e,c.trigger("updateRules",t))},_handleActionTrigger:function(e){return"SPAN"===e.target.tagName||"DIV"===e.target.tagName?null!=this.state.activeRule?this._deleteActiveRule():this._addRule():null!=this.state.activeRule?this._refreshRuleListUI():this._addRule()},_deleteActiveRule:function(){var e;if(null!=this.state.activeRule)return e=this.props.rules.slice(),e.splice(this.state.activeRule,1),c.trigger("updateRules",e)},_addRule:function(){var e,t,n,o;return this.state.host?(e=this._cleanUpHost(this.state.host),t={domain:e,cc:this.state.selectedLocation},o=m(this.props.rules,{$push:[t]}),c.trigger("updateRules",o)):null!=(n=document.querySelector('input[type="text"].rule-host-input'))?n.focus():void 0},_findRuleByHost:function(e){var t,n;e=this._cleanUpHost(e),n=p.matchRules(this.props.rules,e),t={activeRule:n},null!=n&&(t.selectedLocation=this.props.rules[n].cc),this.setState(t)},_cleanUpHost:function(e){var t;return null==e?"":(t=e.trim().toLowerCase(),t=this.parseURL(t).host||t,t.indexOf("/")>0&&(t=this.parseURL("http://"+t).host||t),t=d.toASCII(t))},_handleRuleToggleChange:function(e){return this.props.is_premium?c.trigger("toggleRules",e.target.checked):c.trigger("header",{open:!0})},_refreshRuleListUI:function(){return this.setState({activeRule:this.state.activeRule})},_setActiveRule:function(e){return null==e?this._resetActiveRule():this.setState({host:this.props.rules[e].domain,selectedLocation:this.props.rules[e].cc,activeRule:e})},_handleBackgroundClick:function(){if(null!=this.state.activeRule)return this._resetActiveRule()},_resetActiveRule:function(){return this.setState({host:null,selectedLocation:this.props.defaultLocation.country_code,activeRule:null})},parseURL:function(e){var t,n,o;return o=/^([^:]+):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i,t=e.match(o),t?{scheme:t[1].toLowerCase(),host:t[2].toLowerCase(),port:t[3],path:t[4]||"/",fragment:t[5],local:"http"!==(n=t[1].toLowerCase())&&"https"!==n}:{}},render:function(){return r.createElement("div",{id:"rules"},r.createElement(i,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.is_premium}),r.createElement("div",{className:"rule-container"},r.createElement(s,{rules:this.props.rules,host:this.state.host,locations:this.props.locations,countryNames:this.props.countryNames,selectedLocation:this.state.selectedLocation,actionIntent:null!=this.state.activeRule?"delete":"add",onActionTrigger:this._handleActionTrigger,onHostChange:this._handleHostChange,onLocationChange:this._handleLocationChange}),r.createElement("section",{className:"scroll-section rule-list-section "+(this.props.rulesEnabled?"":"disabled"),onClick:this._handleBackgroundClick},r.createElement(l,{rules:this.props.rules,active:this.state.activeRule,setActiveRule:this._setActiveRule,resetActiveRule:this._resetActiveRule}),r.createElement(a,{rulesEnabled:this.props.rulesEnabled,rules:this.props.rules,active:this.state.activeRule})),r.createElement("footer",{className:"rule-footer"},r.createElement("label",{className:"rule-toggle-label",htmlFor:"rule-toggle"},this.props.rulesEnabled?r.createElement(o,{id:"popup.rules.toggle_on"}):r.createElement(o,{id:"popup.rules.toggle_off"})),r.createElement("label",{className:"flat-switch"},r.createElement("input",{id:"rule-toggle",onChange:this._handleRuleToggleChange,checked:this.props.rulesEnabled,type:"checkbox",className:"flat-switch-checkbox"}),r.createElement("div",{className:"flat-toggle"})))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../background/pacengine.coffee":5,"../../../events":8,"../header":16,"./hints":37,"./list":39,"./rule_box/":42,loglevel:1,punycode:2}],39:[function(e,t,n){(function(n){var o,i,r;o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=e("loglevel"),i="undefined"!=typeof window?window.React.addons.CSSTransitionGroup:"undefined"!=typeof n?n.React.addons.CSSTransitionGroup:null,t.exports=o.createClass({displayName:"RulesList",propTypes:{rules:o.PropTypes.array,active:o.PropTypes.number,setActiveRule:o.PropTypes.func.isRequired,resetActiveRule:o.PropTypes.func.isRequired},componentDidUpdate:function(e,t){var n;if(n=this.props.active,this.props.rules.length>e.rules.length&&(n=this.props.rules.length-1),null!=n&&this._scrollToItem(n),null!=e.active&&null!=this.props.active&&e.active===this.props.active)return this._markItemAsUpdated(n)},_handleClick:function(e,t){return t.stopPropagation(),this.props.active===e?this.props.resetActiveRule():this.props.setActiveRule(e)},_scrollToItem:function(e){var t;return t=this.refs[e],null!=t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView(!1)},_markItemAsUpdated:function(e){var t,n;return t=this.refs[e],n=function(e){return t.removeEventListener("webkitAnimationEnd",n,!1),t.removeEventListener("animationend",n,!1),t.classList.remove("-updated")},t.addEventListener("webkitAnimationEnd",n,!1),t.addEventListener("animationend",n,!1),t.classList.add("-updated")},render:function(){var e,t,n,r;return t=function(){var t,i,s,a;for(s=this.props.rules,a=[],e=t=0,i=s.length;t<i;e=++t)n=s[e],r=this.props.active===e?"-selected":"",a.push(o.createElement("div",{key:n.domain,className:"list-item"},o.createElement("div",{key:e,ref:e,className:"rule-item "+r,onClick:this._handleClick.bind(this,e)},o.createElement("div",{className:"favicon",style:{backgroundImage:"url('https://www.google.com/s2/favicons?domain="+n.domain+"')"}},n.domain),o.createElement("div",{className:"flag",style:{backgroundImage:"url('images/flags/"+n.cc+".png')"}}))));return a}.call(this),o.createElement(i,{component:"div",transitionEnterTimeout:300,transitionLeaveTimeout:300,className:"rule-list "+(null!=this.props.active?"hasSelected":""),transitionName:"list-item"},t)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],40:[function(e,t,n){(function(n){var o,i,r;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=e("loglevel"),o="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=i.createClass({displayName:"ActionsRuleBox",mixins:[o],propTypes:{host:i.PropTypes.string,intent:i.PropTypes.string.isRequired,onActionTrigger:i.PropTypes.func.isRequired},contextTypes:{intl:i.PropTypes.object.isRequired},_handleKeyDown:function(e){if(13===e.nativeEvent.keyCode)return this.props.onActionTrigger(e)},render:function(){var e;return e=this.context.intl.formatMessage({id:"popup.rules.button.add"}),null!=this.props.host&&(e=this.context.intl.formatMessage({id:"popup.rules.button.add_host"},{site:this.props.host})),"add"!==this.props.intent&&(e=this.context.intl.formatMessage({id:"popup.rules.button.remove_host"},{site:this.props.host})),i.createElement("div",{className:"rule-actions"},i.createElement("div",{className:"fab rule-action-"+this.props.intent,tabIndex:"3",onClick:this.props.onActionTrigger,onKeyDown:this._handleKeyDown,title:e},i.createElement("span",{className:"icon-add"},"+")))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],41:[function(e,t,n){(function(n){var o,i,r,s;r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,s=e("loglevel"),i="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=r.createClass({displayName:"HostRuleBox",mixins:[i],propTypes:{host:r.PropTypes.string,onHostChange:r.PropTypes.func.isRequired,onActionTrigger:r.PropTypes.func.isRequired},contextTypes:{intl:r.PropTypes.object.isRequired},getInitialState:function(){return{inputWidth:0,maxWidth:0}},componentDidMount:function(){return this._updateFavicon(),this._setMaxWidth(),this._setInputWidth(),this._placeCaretAtEnd()},componentDidUpdate:function(e,t){var n,o;if(e.host!==this.props.host&&(this._setInputWidth(),((null!=(n=this.props.host)?n.indexOf("."):void 0)>0||(null!=e&&null!=(o=e.host)?o.indexOf("."):void 0)>0)&&this._updateFavicon()),null==this.props.host&&null!=e.host)return this._placeCaretAtEnd()},_handleKeyDown:function(e){if(13===e.nativeEvent.keyCode&&this.props.onActionTrigger(e),32===e.nativeEvent.keyCode||13===e.nativeEvent.keyCode)return e.preventDefault()},_handleChange:function(e){var t;return t=e.target.value,this.props.onHostChange(t)},_setMaxWidth:function(){var e,t,n,o,i,r,s,a;for(r=this.refs.container.parentElement,i=r.offsetWidth,s=r.children,t=0,o=s.length;t<o;t++)e=s[t],i-=e.offsetWidth;return this.setState({maxWidth:i}),n=window.getComputedStyle(this.refs.input),a=this.refs.tmp,a.style.fontSize=n.fontSize,a.style.fontFamily=n.fontFamily},_setInputWidth:function(){var e,t;return e=this.props.host,null!=e&&""!==e||(e=this.context.intl.formatMessage({id:"popup.rules.nlp.host.placeholder"})),t=this.refs.tmp,t.textContent=e,this.setState({inputWidth:t.offsetWidth+5})},_updateFavicon:function(){return this.refs.container.style.backgroundImage="url('https://www.google.com/s2/favicons?domain="+(this.props.host||this.context.intl.formatMessage({id:"popup.rules.nlp.host.placeholder"}))+"')"},_placeCaretAtEnd:function(){var e,t;return e=this.refs.input,e.focus(),t=e.value.length,e.setSelectionRange(t,t)},render:function(){return r.createElement("div",{className:"rule-host",ref:"container"},r.createElement("input",{type:"text",className:"rule-host-input",spellCheck:"false",placeholder:this.context.intl.formatMessage({id:"popup.rules.nlp.host.placeholder"}),onChange:this._handleChange,onKeyDown:this._handleKeyDown,tabIndex:"1",ref:"input",style:{maxWidth:this.state.maxWidth,width:this.state.inputWidth},value:null!=this.props.host?this.props.host.toLowerCase():this.props.host}),r.createElement("span",{className:"tmpHidden",ref:"tmp"}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],42:[function(e,t,n){(function(n){var o,i,r,s,a,l;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,s=e("./host"),a=e("./location"),r=e("./actions"),l=e("loglevel"),t.exports=i.createClass({displayName:"RuleBox",propTypes:{host:i.PropTypes.string,onHostChange:i.PropTypes.func.isRequired,onLocationChange:i.PropTypes.func.isRequired,onActionTrigger:i.PropTypes.func.isRequired,selectedLocation:i.PropTypes.string.isRequired,locations:i.PropTypes.array.isRequired,actionIntent:i.PropTypes.string.isRequired,countryNames:i.PropTypes.object},render:function(){return i.createElement("div",{id:"rule-box"},i.createElement("div",{className:"nlp-container"},i.createElement("div",{className:"nlp"},i.createElement("div",{className:"nlp-text"},void 0,i.createElement(o,{id:"popup.rules.nlp.host._pre",defaultMessage:" "})),i.createElement(s,{host:this.props.host,onHostChange:this.props.onHostChange,onActionTrigger:this.props.onActionTrigger}),i.createElement("div",{className:"nlp-text"},void 0,i.createElement(o,{id:"popup.rules.nlp.host._post",defaultMessage:" "}))),i.createElement("div",{className:"nlp"},i.createElement("div",{className:"nlp-text"},void 0,i.createElement(o,{id:"popup.rules.nlp.location._pre",defaultMessage:" "})),i.createElement(a,{locations:this.props.locations,countryNames:this.props.countryNames,selectedLocation:this.props.selectedLocation,onLocationChange:this.props.onLocationChange,onActionTrigger:this.props.onActionTrigger}),i.createElement("div",{className:"nlp-text"},void 0,i.createElement(o,{id:"popup.rules.nlp.location._post",defaultMessage:" "})))),i.createElement(r,{intent:this.props.actionIntent,host:this.props.host,onActionTrigger:this.props.onActionTrigger}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions":40,"./host":41,"./location":43,loglevel:1}],43:[function(e,t,n){(function(n){var o,i,r;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,r=e("loglevel"),t.exports=i.createClass({displayName:"LocationRuleBox",propTypes:{selectedLocation:i.PropTypes.string.isRequired,locations:i.PropTypes.array.isRequired,onActionTrigger:i.PropTypes.func.isRequired,onLocationChange:i.PropTypes.func,countryNames:i.PropTypes.object},contextTypes:{intl:i.PropTypes.object.isRequired},componentDidMount:function(){return this._updateFlag(),this._setSelectWidth()},componentDidUpdate:function(e,t){if(e.selectedLocation!==this.props.selectedLocation)return this._updateFlag(),this._setSelectWidth()},_handleKeyDown:function(e){if(13===e.nativeEvent.keyCode)return this.props.onActionTrigger(e)},_handleChange:function(e){var t;return t=e.target.value,this.props.onLocationChange(t)},_setSelectWidth:function(){var e,t,n;return t=this.refs.select,e=t.options[t.selectedIndex].label,n=this.refs.tmp,n.textContent=e,t.style.width=n.offsetWidth+10+"px"},_updateFlag:function(){var e,t;return t=this.props.selectedLocation,e="url('images/flags/"+t+".png')",this.refs.container.style.backgroundImage=e},render:function(){var e;return i.createElement("div",{className:"rule-location",ref:"container"},i.createElement("select",{tabIndex:"2",ref:"select",value:this.props.selectedLocation,onKeyDown:this._handleKeyDown,onChange:this._handleChange},function(){var t,n,o,r;if(this.props.locations){for(o=this.props.locations,r=[],t=0,n=o.length;t<n;t++)e=o[t],r.push(i.createElement("option",{key:e.country_code,value:e.country_code},this.props.countryNames[e.country_code]));return r}}.call(this),i.createElement("option",{disabled:!0,className:"separator"},""),i.createElement("option",{value:"OFF"},this.context.intl.formatMessage({id:"popup.rules.nlp.location.off"}))),i.createElement("span",{className:"tmpHidden",ref:"tmp"}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],44:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=o.PropTypes,r="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof e?e.React.addons.PureRenderMixin:null,s=n.createClass({displayName:"ClickItem",mixins:[r],propTypes:{label:i.string.isRequired,onClick:i.func.isRequired},render:function(){var e=this.props,t=e.label,o=e.onClick;return n.createElement("li",{className:"click-item",onClick:o},t)}});t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){(function(n){var o,i,r,s,a,l,c,u,p,d;u="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=("undefined"!=typeof window?window.ReactIntl:"undefined"!=typeof n?n.ReactIntl:null).FormattedMessage,d=e("../../../events"),s=e("../header"),o=e("./settings_category"),a=e("./input_item"),i=e("./click_item"),p=e("./toggle_item"),l=e("./link_item"),c=e("./nav_item"),t.exports=u.createClass({displayName:"Settings",propTypes:{routes:u.PropTypes.object.isRequired,header:u.PropTypes.object.isRequired,user:u.PropTypes.object.isRequired,device:u.PropTypes.object.isRequired,debug:u.PropTypes.object.isRequired,messages:u.PropTypes.object.isRequired,language:u.PropTypes.string.isRequired},contextTypes:{intl:u.PropTypes.object.isRequired},changeAPIUrl:function(e){return d.trigger("changeAPIUrl",e),d.trigger("signOut")},reset:function(){return d.trigger("reset")},confirmAccount:function(){return d.trigger("confirmAccount")},signOut:function(){return d.trigger("signOut")},render:function(){var e,t;return t="[P|"+this.props.user.country_code+"_"+this.props.language+"]-"+this.props.routes.current,e=this.context.intl.formatMessage({id:"popup.settings.account.title"})+" "+(this.props.user.is_anonymous?"":"("+this.props.user.email+")"),u.createElement("div",{id:"settings"},u.createElement(s,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium}),u.createElement("section",{className:"subhead"},u.createElement("div",{className:"text-center"},u.createElement("h1",{className:"location-headline"},u.createElement(r,{id:"popup.settings.heading"})),u.createElement("p",{className:"location-copy"},u.createElement(r,{id:"popup.settings.copy"})))),u.createElement("section",{className:"settings-section scroll-section"},u.createElement(o,{title:e},u.createElement(i,{onClick:this.signOut,label:this.context.intl.formatMessage({id:"popup.settings.account.sign_out"})}),this.props.user.is_premium?void 0:u.createElement(l,{url:"account/premium",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"settings_getpremium_{countryCode}",utm_content:"menu"},label:this.context.intl.formatMessage({id:"popup.settings.account.get_premium"})}),this.props.user.is_anonymous||this.props.user.is_verified?void 0:u.createElement(i,{onClick:this.confirmAccount,label:this.context.intl.formatMessage({id:"popup.settings.account.verify"})}),this.props.user.is_anonymous?void 0:u.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"in_product",utm_source:"extension_interface",utm_campaign:"dashboard_link_{countryCode}",utm_content:"menu"},label:this.context.intl.formatMessage({id:"popup.settings.account.account_dashboard"})})),u.createElement(o,{title:this.context.intl.formatMessage({id:"popup.settings.general.title"})},u.createElement(l,{url:"http://go.zenmate.com/3EMEt",label:this.context.intl.formatMessage({id:"popup.settings.general.support"})}),u.createElement(c,{link:"#language",label:this.context.intl.formatMessage({id:"popup.settings.general.change_language"})})),void 0))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8,"../header":16,"./click_item":44,"./input_item":46,"./link_item":47,"./nav_item":48,"./settings_category":49,"./toggle_item":50}],46:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,t.exports=n.createClass({displayName:"InputItem",propTypes:{label:n.PropTypes.string.isRequired,onClick:n.PropTypes.func,button:n.PropTypes.bool,value:n.PropTypes.string},getInitialState:function(){return{value:this.props.value}},willReceiveProps:function(){return this.setState({value:this.props.value})},onChange:function(){return this.setState({value:this.refs.input.value})},onClick:function(){var e;return"function"==typeof(e=this.props).onClick?e.onClick(this.refs.input.value):void 0},render:function(){return n.createElement("li",null,n.createElement("label",null,this.props.label),n.createElement("input",{value:this.state.value,onChange:this.onChange,ref:"input"}),this.props.button?n.createElement("button",{onClick:this.onClick},"Submit"):void 0)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t,n){(function(n){var o,i,r;r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,o=e("../../../link"),i="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=r.createClass({displayName:"LinkItem",mixins:[i],propTypes:{label:r.PropTypes.string.isRequired},render:function(){return r.createElement(o,Object.assign({},this.props),r.createElement("li",{className:"click-item"},this.props.label))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"../../../link":9}],48:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof e?e.React.addons.PureRenderMixin:null,t.exports=o.createClass({displayName:"NavigationItem",mixins:[n],propTypes:{link:o.PropTypes.string.isRequired,label:o.PropTypes.string.isRequired},render:function(){return o.createElement("a",{href:this.props.link},o.createElement("li",{className:"click-item"},this.props.label))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){(function(e){var n,o;o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,n="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof e?e.React.addons.PureRenderMixin:null,t.exports=o.createClass({displayName:"SettingsCategory",mixins:[n],propTypes:{title:o.PropTypes.string.isRequired},render:function(){return o.createElement("div",{className:"settings-category"},o.createElement("h3",null,this.props.title),o.createElement("ul",null,this.props.children))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t,n){(function(n){var o,i,r;i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=e("../../../events"),o="undefined"!=typeof window?window.React.addons.PureRenderMixin:"undefined"!=typeof n?n.React.addons.PureRenderMixin:null,t.exports=i.createClass({displayName:"ToggleItem",mixins:[o],propTypes:{label:i.PropTypes.string.isRequired,onChange:i.PropTypes.func.isRequired,enabled:i.PropTypes.bool.isRequired},render:function(){return i.createElement("li",{className:"toggle-item"},i.createElement("label",null,this.props.label),i.createElement("label",{className:"toggle"},i.createElement("input",{onChange:this.props.onChange,checked:this.props.enabled,type:"checkbox",className:"ios-switch stateToggle onoffswitch-checkbox"}),i.createElement("div",{className:"switch "+(this.props.enabled?"switch-enabled":"switch-disabled")})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":8}],51:[function(e,t,n){(function(e){var t;t="undefined"!=typeof window?window.Bacon:"undefined"!=typeof e?e.Bacon:null,n.router=function(e){var n;return null==e&&(e="home"),n=t.fromEvent(window,"hashchange").bufferingThrottle(500).merge(t.once()).map(function(){var e;return null!=(e=location.hash)?e.slice(1):void 0}).scan({stack:[e],direction:"right"},function(e,t){var n;return t=t||"home",n=e.stack.indexOf(t),~n?(e.direction="left",e.stack=e.stack.slice(0,n+1)):(e.direction="right",e.stack.push(t)),e}).skip(1),n.map(function(e){return{direction:e.direction,current:e.stack[e.stack.length-1],previous:e.stack[e.stack.length-2]}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(e,t,n){"use strict";function o(e){s=e}function i(e){var t=e.split("?"),n=r(t,2),o=n[0],i=n[1];return"https://geo.zenmate.com/"+o+"."+s+(i?"?"+i:"")}var r=function(){function e(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="en";t.exports={setLocale:o,getUrl:i}},{}]},{},[11]);